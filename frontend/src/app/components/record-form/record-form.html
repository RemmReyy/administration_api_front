<div class="form-container">
  <h1>{{ isEditMode ? 'Редагувати запис' : 'Новий запис' }}</h1>

  <div *ngIf="error" class="error-message">{{ error }}</div>

  <form (ngSubmit)="onSubmit()" #recordForm="ngForm">
    <div class="form-group">
      <label for="year">Year *</label>
      <input
        type="number"
        id="year"
        name="year"
        [(ngModel)]="record.year"
        required
        [disabled]="loading || isEditMode"
        #yearInput="ngModel"
      >
      <div *ngIf="yearInput.invalid && yearInput.touched" class="field-error">
        The year is mandatory
      </div>
    </div>

    <div class="form-group">
      <label for="targetValue">Target value</label>
      <input
        type="number"
        id="targetValue"
        name="targetValue"
        [(ngModel)]="record.targetValue"
        [disabled]="loading"
      >
    </div>

    <div class="form-group">
      <label for="actualValue">Actual value</label>
      <input
        type="number"
        id="actualValue"
        name="actualValue"
        [(ngModel)]="record.actualValue"
        [disabled]="loading"
      >
    </div>

    <div class="form-group">
      <label for="bonus">Bonus</label>
      <input
        type="number"
        id="bonus"
        name="bonus"
        [(ngModel)]="record.bonus"
        [disabled]="loading"
      >
    </div>

    <div class="form-actions">
      <button
        type="submit"
        class="btn-primary"
        [disabled]="recordForm.invalid || loading"
      >
        {{ loading ? 'Saving...' : 'Save' }}
      </button>
      <button
        type="button"
        class="btn-secondary"
        (click)="cancel()"
        [disabled]="loading"
      >
        Cansel
      </button>
    </div>
  </form>
</div>
